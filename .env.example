# ======================
# GENERAL SETTINGS
# ======================
ENVIRONMENT=development
DEBUG=True
LOG_LEVEL=INFO

# ======================
# TELEGRAM BOT
# ======================
BOT_TOKEN=8523015926:AAECpyIbj4TTQ9Ymx1DBCfReHtu24gL54jg
WEBHOOK_URL=https://your-domain.com/webhook
WEBHOOK_PATH=/webhook

# Admin user IDs (comma-separated)
ADMIN_IDS=123456789,987654321

# ======================
# DATABASE (PostgreSQL)
# ======================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=vitte_bot
POSTGRES_USER=vitte_user
# ВАЖНО: Смените пароль на продакшене!
POSTGRES_PASSWORD=VitteDB_Secure_Pass_2024!

# Database URL for SQLAlchemy
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Connection pool settings (optimized for 4 CPU + 8 GB RAM)
# Supports 3,000-5,000 active users with room for growth
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_PRE_PING=True

# ======================
# REDIS
# ======================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
# ВАЖНО: Смените пароль на продакшене!
REDIS_PASSWORD=VitteRedis_Secure_Pass_2024!

# Redis URLs with authentication
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# Cache TTL (seconds)
CACHE_TTL_USER=300
CACHE_TTL_PERSONA=300
CACHE_TTL_SUBSCRIPTION=3600
CACHE_TTL_FEATURES=600

# ======================
# CELERY
# ======================
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/1
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/2

# Worker settings (optimized for 4 CPU + 8 GB RAM)
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_TIME_LIMIT=600
CELERY_TASK_SOFT_TIME_LIMIT=300

# ======================
# LLM (DeepSeek / OpenRouter)
# ======================
LLM_PROVIDER=openrouter
OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENROUTER_MODEL=deepseek/deepseek-chat

# Alternative: Direct DeepSeek
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_MODEL=deepseek-chat

# LLM Settings
LLM_MAX_TOKENS=2000
LLM_TEMPERATURE=0.7
LLM_TIMEOUT=30

# ======================
# IMAGE GENERATION (ComfyUI)
# ======================
COMFYUI_URL=http://comfyui:8188
COMFYUI_TIMEOUT=120
COMFYUI_MAX_CONCURRENT=2

# ======================
# PAYMENTS
# ======================
# Telegram Stars
STARS_ENABLED=True

# YooKassa
YOOKASSA_ENABLED=True
YOOKASSA_SHOP_ID=your_shop_id
YOOKASSA_SECRET_KEY=your_secret_key

# ======================
# RATE LIMITING
# ======================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=10
RATE_LIMIT_PER_HOUR=100

# ======================
# MONITORING
# ======================
# Sentry
SENTRY_ENABLED=False
SENTRY_DSN=

# Prometheus
PROMETHEUS_ENABLED=True
PROMETHEUS_PORT=9090

# ======================
# API SETTINGS
# ======================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=2

# CORS
CORS_ORIGINS=http://localhost:3000,https://your-frontend.com

# ======================
# WORKER SETTINGS
# ======================
WORKER_LOG_LEVEL=INFO

# ======================
# ADMIN PANEL
# ======================
ADMIN_HOST=0.0.0.0
ADMIN_PORT=8080
ADMIN_SECRET_KEY=your_admin_secret_key_here

# ======================
# S3 / MINIO (for file storage)
# ======================
S3_ENABLED=False
S3_ENDPOINT=http://minio:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET_NAME=vitte-bot
S3_REGION=us-east-1

# ======================
# LOCALIZATION
# ======================
DEFAULT_LOCALE=ru
AVAILABLE_LOCALES=ru,en

# ======================
# RETENTION / NOTIFICATIONS
# ======================
RETENTION_ENABLED=True
RETENTION_CHECK_INTERVAL=3600

# ======================
# MONITORING CREDENTIALS
# ======================
# Grafana
GRAFANA_USER=admin
# ВАЖНО: Смените пароль на продакшене!
GRAFANA_PASSWORD=VitteGrafana_Secure_Pass_2024!
